dependencies {
    api project(':micrometer-core')

    api platform('com.google.cloud:libraries-bom:latest.release')

    api 'com.google.cloud:google-cloud-monitoring'
    api 'com.google.auth:google-auth-library-oauth2-http'
    implementation 'org.slf4j:slf4j-api'
    compileOnly 'ch.qos.logback:logback-classic'

    testImplementation project(':micrometer-test')
}

configurations.configureEach {
    // see https://github.com/google/guava/releases/tag/v32.1.0
    // "Reporting dependencies that overlap with Guava"
    resolutionStrategy.capabilitiesResolution.withCapability("com.google.guava:listenablefuture") {
        select("com.google.guava:guava:0")
    }
}
